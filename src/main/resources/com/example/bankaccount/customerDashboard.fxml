<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ListView?>
<?import javafx.scene.control.Tab?>
<?import javafx.scene.control.TabPane?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>

<BorderPane prefHeight="700" prefWidth="1000" styleClass="dashboard-container" stylesheets="@styles.css" xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.example.bankaccount.CustomerDashboardController">

    <top>
        <VBox styleClass="dashboard-header">
            <HBox alignment="CENTER_LEFT" styleClass="header-main">
                <VBox spacing="2">
                    <Label fx:id="welcomeLabel" styleClass="header-title" text="Welcome, Customer" />
                    <Label fx:id="balanceLabel" styleClass="header-subtitle" text="Current Balance: P0.00" />
                </VBox>
                <Region HBox.hgrow="ALWAYS" />
                <Button onAction="#handleViewProfile" styleClass="btn-primary" text="Profile" />
            </HBox>
        </VBox>
    </top>

    <center>
        <TabPane styleClass="main-tab-pane" tabClosingPolicy="UNAVAILABLE">

            <!-- TAB 1: Dashboard Overview -->
            <Tab text="Menu">
                <VBox spacing="20" styleClass="tab-content">
                    <HBox alignment="TOP_CENTER" spacing="20">
                        <!-- Accounts Panel -->
                        <VBox prefHeight="466.0" prefWidth="559.0" spacing="15" styleClass="panel-left">
                            <Label styleClass="panel-title-large" text="Your Accounts">
                        <VBox.margin>
                           <Insets top="50.0" />
                        </VBox.margin></Label>
                            <ListView fx:id="accountsListView" prefHeight="282.0" prefWidth="358.0" styleClass="accounts-list">
                        <VBox.margin>
                           <Insets top="50.0" />
                        </VBox.margin></ListView>
                        </VBox>

                        <!-- Quick Actions -->
                        <VBox prefHeight="466.0" prefWidth="551.0" spacing="15" styleClass="panel-right">
                            <Label styleClass="panel-title" text="Quick Actions">
                        <VBox.margin>
                           <Insets top="50.0" />
                        </VBox.margin></Label>
                            <Button onAction="#handleDeposit" styleClass="btn-primary" text="Deposit">
                        <VBox.margin>
                           <Insets left="200.0" top="40.0" />
                        </VBox.margin></Button>
                            <Button onAction="#handleWithdraw" styleClass="btn-primary" text="Withdraw">
                        <VBox.margin>
                           <Insets left="200.0" top="20.0" />
                        </VBox.margin></Button>
                            <Button onAction="#handleTransfer" styleClass="btn-primary" text="Transfer">
                        <VBox.margin>
                           <Insets left="200.0" top="20.0" />
                        </VBox.margin></Button>
                            <Button onAction="#handleRefresh" styleClass="btn-primary" text="Refresh">
                        <VBox.margin>
                           <Insets left="200.0" top="20.0" />
                        </VBox.margin></Button>
                        </VBox>
                  <VBox.margin>
                     <Insets />
                  </VBox.margin>
                    </HBox>

                    <!-- Fixed the alignment issue here -->
                    <HBox alignment="CENTER">
                        <Button onAction="#handleLogout" styleClass="btn-primary" text="Logout" />
                    </HBox>
                </VBox>
            </Tab>

            <!-- TAB 2: Transfer Money -->
            <Tab text="Transfer">
                <VBox alignment="TOP_CENTER" spacing="20" styleClass="tab-content">
                    <Label styleClass="panel-title-large" text="Transfer Funds">
                  <VBox.margin>
                     <Insets top="10.0" />
                  </VBox.margin></Label>

                    <VBox prefHeight="344.0" prefWidth="960.0" spacing="15" styleClass="form-section">
                        <HBox alignment="CENTER_LEFT" spacing="10">
                            <Label prefWidth="120" styleClass="operation-label" text="From Account:">
                        <HBox.margin>
                           <Insets top="20.0" />
                        </HBox.margin></Label>
                            <ComboBox fx:id="transferFromCombo" prefWidth="200" styleClass="combo-box">
                        <HBox.margin>
                           <Insets top="20.0" />
                        </HBox.margin></ComboBox>
                        </HBox>

                        <HBox alignment="CENTER_LEFT" spacing="10">
                            <Label prefWidth="120" styleClass="operation-label" text="To Account:">
                        <HBox.margin>
                           <Insets top="20.0" />
                        </HBox.margin></Label>
                            <TextField fx:id="targetAccountField" prefWidth="200" promptText="Account Number" styleClass="operation-field">
                        <HBox.margin>
                           <Insets top="20.0" />
                        </HBox.margin></TextField>
                        </HBox>

                        <HBox alignment="CENTER_LEFT" spacing="10">
                            <Label prefWidth="120" styleClass="operation-label" text="Amount:">
                        <HBox.margin>
                           <Insets top="20.0" />
                        </HBox.margin></Label>
                            <TextField fx:id="transferAmountField" prefWidth="200" promptText="P0.00" styleClass="operation-field">
                        <HBox.margin>
                           <Insets top="20.0" />
                        </HBox.margin></TextField>
                        </HBox>

                        <HBox alignment="CENTER_LEFT" spacing="10">
                            <Label prefWidth="120" styleClass="operation-label" text="Reference:">
                        <HBox.margin>
                           <Insets top="20.0" />
                        </HBox.margin></Label>
                            <TextField fx:id="transferDescription" prefWidth="366.0" promptText="Optional" styleClass="operation-field">
                        <HBox.margin>
                           <Insets top="20.0" />
                        </HBox.margin></TextField>
                        </HBox>

                        <!-- Fixed the alignment issue here -->
                        <HBox alignment="CENTER" />
                  <VBox.margin>
                     <Insets top="20.0" />
                  </VBox.margin>
                    </VBox>
                      <Button onAction="#handleTransfer" styleClass="btn-primary" text="Transfer Funds">
                  <VBox.margin>
                     <Insets top="20.0" />
                  </VBox.margin>
               </Button>
                </VBox>
            </Tab>

            <!-- TAB 3: Transactions -->
            <Tab text="Transactions">
                <VBox spacing="15" styleClass="tab-content">
                    <Label styleClass="panel-title-large" text="Transaction History">
                  <VBox.margin>
                     <Insets top="40.0" />
                  </VBox.margin></Label>
                    <ListView fx:id="transactionsListView" prefHeight="307.0" prefWidth="960.0" styleClass="transactions-list">
                  <VBox.margin>
                     <Insets top="60.0" />
                  </VBox.margin></ListView>
                </VBox>
            </Tab>

        </TabPane>
    </center>
</BorderPane>
